apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "adaptive.redis.configMap.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "adaptive.labels" . | nindent 4 }}
    {{- include "adaptive.redis.selectorLabels" . | nindent 4 }}
data:
  default.acl: |
    # Allow access to all keys and channel but block
    # -@dangerous: FLUSHDB, FLUSHALL, KEYS, SHUTDOWN
    # -@admin: CONFIG, SAVE, BGSAVE, REPLICAOF, MODULE
    # -@scripting: EVAL, EVALSHA, SCRIPT, FUNCTION, FCALL
    user default on nopass sanitize-payload ~* &* -@all -@dangerous -@admin -@scripting
